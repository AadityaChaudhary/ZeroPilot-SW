##########################################################################################################################
# File automatically-generated by tool: [projectgenerator] version: [2.25.0] date: [Wed Oct 25 23:09:38 EDT 2017] 
##########################################################################################################################

# ------------------------------------------------
# Generic Makefile (based on gcc)
#
# ChangeLog :
#	2017-02-10 - Several enhancements + project update mode
#   2015-07-22 - first version
# ------------------------------------------------

######################################
# target
######################################
TARGET = Safety


######################################
# building variables
######################################
# debug build?
DEBUG = 1
# optimization
OPT = -Og


#######################################
# paths
#######################################
ROOT_DIR 		= ./..
PROJECT_DIR 	= $(ROOT_DIR)/$(TARGET)

# Build path
BUILD_DIR 		= $(PROJECT_DIR)/build
HAL_DIR 		= $(PROJECT_DIR)/Drivers/STM32F0xx_HAL_Driver

######################################
# source
######################################
# C sources
HAL_SOURCES = $(wildcard $(HAL_DIR)/Src/*.c)

MAIN_SOURCES = $(wildcard $(PROJECT_DIR)/Src/*.c)

C_SOURCES = \
$(HAL_SOURCES) \
$(MAIN_SOURCES) \

# ASM sources
ASM_SOURCES =  \
$(PROJECT_DIR)/startup_stm32f030xc.s

#######################################
# CFLAGS
#######################################
# cpu
CPU = -mcpu=cortex-m0

# fpu
# NONE for Cortex-M0/M0+/M3

# float-abi


# mcu
MCU = $(CPU) -mthumb $(FPU) $(FLOAT-ABI)

# macros for gcc
# AS defines
AS_DEFS = 

# C defines
C_DEFS =  \
-DUSE_HAL_DRIVER \
-DSTM32F030xC


# AS includes
AS_INCLUDES = 

# C includes
C_INCLUDES =  \
-I$(PROJECT_DIR)/Drivers/CMSIS/Device/ST/STM32F0xx/Include \

#######################################
# LDFLAGS
#######################################
# link script
LDSCRIPT = $(PROJECT_DIR)/STM32F030RCTx_FLASH.ld

# libraries
LIBS = -lc -lm -lnosys
LIBDIR = 
LDFLAGS = $(MCU) -specs=nano.specs -T$(LDSCRIPT) $(LIBDIR) $(LIBS) -Wl,-Map=$(BUILD_DIR)/$(TARGET).map,--cref -Wl,--gc-sections

include $(ROOT_DIR)/project.mk

# *** EOF ***
